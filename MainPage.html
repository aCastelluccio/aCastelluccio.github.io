<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link rel="stylesheet" href="cssForVote.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>

  <title>Andrew's Voting Machine</title>

</head>

<body>
  <div class = "center"></div>
  <div class="container">
    <div class="jumbotron">
      <div class="row">
        <div class="col-12">
          <h1 class="text-center">Welcome to the 2018 Special Election</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <h2 id ="enterId" class="text-center">Enter your id below to either vote or perform adminstrative functions</h2>
        </div>
      </div>
      <div class="row">
        <div id = "hideMe" class="col-6 center">
          <input id = "input" class="form-control form-control-lg" type="text" placeholder="Enter your ID here">
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">
          <button id = "submit" class=" btn btn-lg btn-primary text-center">Enter</button>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <h3 id = "presAnnounce" class="text-center">Vote for the president of Drew</h2>
          </div>
        </div>
        <div id = "space3" class="center"></div>
        <div id = "presVote">
          <div class="row">
            <div class="col-md-6 text-center">
              <button id = "presVote1" class=" btn btn-lg btn-primary text-center">Vote for Andrew Castelluccio</button>
            </div>
            <div class="col-md-6 text-center">
              <button id = "presVote2" class=" btn btn-lg btn-primary text-center">Vote for Joe Biden</button>
            </div>
          </div>
          <div id = "space2" class="center"></div>
          <div class="row">
            <div class="col-md-6 text-center">
              <button id = "presVote3" class=" btn btn-lg btn-primary text-center">Vote for A Cute Puppy</button>
            </div>
            <div class="col-md-6 text-center">
              <button id = "presVote4" class=" btn btn-lg btn-primary text-center">Vote for Barry Burd</button>
            </div>
          </div>
          <div id ="space"class="center"></div>
          <div class="row">
            <div class="col-md-12 text-center">
              <button id = "presVote5" class=" btn btn-lg btn-primary text-center">Vote for Corrupt Politician</button>
            </div>
          </div>
        </div>
        <div id = "voteP2" class="col-md-6 center text-center">
          <h4>Vote For Senators (Choose up to 3)</h4>
          <div class="funkyradio">
            <div class="funkyradio-success">
              <input type="checkbox" name="checkbox" id = "checkbox1" />
              <label style = "color:white" for="checkbox1">Tarzan</label>
            </div>
            <div class="funkyradio-primary">
              <input type="checkbox" name="checkbox" id = "checkbox2" />
              <label style = "color:white" for="checkbox2">A Cute Kitten</label>
            </div>
            <div class="funkyradio-success">
              <input type="checkbox" name="checkbox" id = "checkbox3" />
              <label style = "color:white" for="checkbox3">The Queen of England</label>
            </div>
            <div class="funkyradio-primary">
              <input type="checkbox" name="checkbox" id = "checkbox4" />
              <label style = "color:white" for="checkbox4">King Kong</label>
            </div>
            <div class="funkyradio-success">
              <input type="checkbox" name="checkbox" id = "checkbox5" />
              <label style = "color:white" for="checkbox5">Will Smith</label>
            </div>
            <div class="funkyradio-primary">
              <input type="checkbox" name="checkbox" id = "checkbox6" />
              <label style = "color:white" for="checkbox6">Oprah</label>
            </div>
          </div>
          <div class="row" style ="padding:20px"  >
            <div class="col-md-12 text-center">
              <button id = "endSenate" class=" btn btn-lg btn-primary text-center">Submit Votes</button>
            </div>
          </div>
        </div>

        <div id = "yes_no">
          <div class="row">
            <div class = "text-center col-md-12">
              <h3> Should Drew become a Computer Science School?</h3>
            </div>
          </div>
          <div class = "center"></div>
          <div class="row">
            <div class="col-md-6 text-center">
              <button id = "yes_btn" class=" btn btn-lg btn-primary text-center">Yes</button>
            </div>
            <div class="col-md-6 text-center">
              <button id = "no_btn" class=" btn btn-lg btn-primary text-center">No</button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h3 id = "openVote" class="text-center">Would you like to start the vote?</h3>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <button id = "startVote" class=" btn btn-lg btn-primary text-center">Start the Vote</button>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h3 id = "endVote" class="text-center">Would you like to end the vote?</h3>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 text-center">
            <button id = "end" class=" btn btn-lg btn-primary text-center">Yes</button>
          </div>
          <div class="col-md-6 text-center">
            <button id = "dontEnd" class=" btn btn-lg btn-primary text-center">No</button>
          </div>
        </div>
        <div id = "results">
          <div class  = "text-center row">
            <div class = col-lg-12>
              <h2>The results are in!</h2>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "aVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "jVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "pVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "bVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "cVote"></h3>
            </div>
          </div>
          <div class="center"></div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "TVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "CVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "QVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "KVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "WVote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "OVote"></h3>
            </div>
          </div>
          <div class="center"></div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "y_Vote"></h3>
            </div>
          </div>
          <div class  = "row">
            <div class = col-lg-12>
              <h3 id = "n_Vote"></h3>
            </div>
          </div>

        </div>
      </div>
    </div>


    <script>

    var listOfVoter = [61636,61637];
    var listOfAdmin = [12345];
    var currentStep = 0;
    var votesForA = 0;
    var votesForJ = 0;
    var votesForP = 0;
    var votesForB = 0;
    var votesForC = 0;
    var senateTarzan = 0;
    var senateKitten = 0;
    var senateQueen = 0;
    var senateKing = 0;
    var senateWill = 0;
    var senateOprah = 0;
    var yes = 0;
    var no = 0;

    $("#presVote").hide();
    $("#voteP2").hide();
    $("#yes_no").hide();
    $("#presAnnounce").hide();
    $("#startVote").hide();
    $("#openVote").hide();
    $("#endVote").hide();
    $("#end").hide();
    $("#dontEnd").hide();
    $("#results").hide();


    $("#presVote1").click(function(){
      votesForA ++;
      voterAfterPres();
    });

    $("#presVote2").click(function(){
      votesForJ ++;
      voterAfterPres();
    });
    $("#presVote3").click(function(){
      votesForP ++;
      voterAfterPres();
    });
    $("#presVote4").click(function(){
      votesForB ++;
      voterAfterPres();
    });
    $("#presVote5").click(function(){
      votesForC ++;
      voterAfterPres();
    });
    $("#yes_btn").click(function(){
      yes ++;
      voterAfterYesNo();
    });
    $("#no_btn").click(function(){
      no ++;
      voterAfterYesNo();
    });
    $("#endSenate").click(function(){
      $("#voteP2").hide();
      var numChecked = 0;
      if($("#checkbox1").is(':checked')){
        numChecked ++;
      }
      if($("#checkbox2").is(':checked')){

        numChecked ++;
      }
      if($("#checkbox3").is(':checked')){
        numChecked ++;
      }
      if($("#checkbox4").is(':checked')){
        numChecked ++;
      }
      if($("#checkbox5").is(':checked')){
        numChecked ++;
      }
      if($("#checkbox6").is(':checked')){
        numChecked ++;
      }
      if(numChecked <= 3){
        if($("#checkbox1").is(':checked')){
          senateTarzan ++;
        }
        if($("#checkbox2").is(':checked')){

          senateKitten ++;
        }
        if($("#checkbox3").is(':checked')){
          senateQueen ++;
        }
        if($("#checkbox4").is(':checked')){
          senateKing ++;
        }
        if($("#checkbox5").is(':checked')){
          senateWill ++;
        }
        if($("#checkbox6").is(':checked')){
          senateOprah ++;
        }
        voteAfterSenate();
      }
      else{
        alert("Please pick at least 1 and at most 3");
        $("#voteP2").show();
      }
      $("#checkbox1").prop('checked', false); // Unchecks it
      $("#checkbox2").prop('checked', false); // Unchecks it
      $("#checkbox3").prop('checked', false); // Unchecks it
      $("#checkbox4").prop('checked', false); // Unchecks it
      $("#checkbox5").prop('checked', false); // Unchecks it
      $("#checkbox6").prop('checked', false); // Unchecks it


    });
    function remove(array, element) {
      for(var i = 0; i < array.length; i++){
        if (array[i] == element){
          array.splice(i,1);
          break;
        }
      }

    }
    function voter(){
      $("#presVote").show();

      $("#space2").show();
      $ ("#presAnnounce").show();
    }

    // Displays proper information about senate Vote
    function voterAfterPres(){
      $("#presVote").hide();

      $("#presAnnounce").hide();
      $("#space").hide();
      $("#voteP2").show();
      $("#space3").hide();
      $("#space2").hide();

    }
    // Display yes or no vote
    function voteAfterSenate(){
      $("#yes_no").show();

    }
    // Return to Original Display
    function voterAfterYesNo(){
      $("#submit").show();
      $("#input").show();
      $("#enterId").show();
      $("#yes_no").hide();
      $("#input").val("");
      $("#space").show();
      $("#hideMe").show();


    }

    function admin(){
      $("#startVote").show();
      $("#openVote").show();

    }
    function adminCountVote(){
      $("#results").show();

      $("#aVote").text("Andrew Castelluccio received: " + votesForA + " votes");
      $("#jVote").text("Joe Biden received: " + votesForJ + " votes");
      $("#pVote").text("A Cute Puppy received: " + votesForP + " votes");
      $("#bVote").text("Barry Burd received: " + votesForB + " votes");
      $("#cVote").text("A Corrupt Politician received: " + votesForC + " votes");
      $("#TVote").text("Tarzan received: " + senateTarzan + " votes");
      $("#CVote").text("A cute kiteen received: " + senateKitten + " votes");
      $("#QVote").text("The Queen received: " + senateQueen + " votes");
      $("#KVote").text("King Kong received: " + senateKing + " votes");
      $("#WVote").text("Will Smith received: " + senateWill + " votes");
      $("#OVote").text("Ophrah received: " + senateOprah + " votes");
      $("#y_Vote").text("In favor of making Drew a computer Science School: " + yes + " votes");
      $("#n_Vote").text("Against making Drew a computer Science School: " + no + " votes");


    }

    // Return to Original
    $("#startVote").click(function(){
      $("#submit").show();
      $("#input").show();
      $("#enterId").show();
      $("#startVote").hide();
      $("#openVote").hide();
      $("#input").val("");
      $("#hideMe").show();


      currentStep = 1;
    });

    $("#input").keypress(function (e) {
 var key = e.which;
 if(key == 13)  // the enter key code
  {
    $("#submit").click();
    return false;
  }
});
    $("#submit").click(function(){

      $("#submit").hide();
      $("#input").hide();
      $("#enterId").hide();
      $("#hideMe").hide();

      $("#space2").hide();
      var idToCheck = $("#input").val();
      var isVoter = false;
      var isAdmin = false;

      for (var i = 0; i < listOfVoter.length; i++){
        if (idToCheck == listOfVoter[i])
        isVoter = true;
      }
      for (var i = 0; i < listOfAdmin.length; i++){
        if (idToCheck == listOfAdmin[i])
        isAdmin = true;
      }

      if (currentStep == 0 && isAdmin){
        admin();
      }
      else if (currentStep == 1 && isAdmin ){
        adminCountVote();
      }
      else if (currentStep == 0){
        alert("Please enter an admin ID to start the process")
        $("#submit").show();
        $("#input").show();
        $("#enterId").show();
        $("#input").val("");
        $("#space2").show();
        $("#hideMe").show();


      }
      else if (currentStep == 1 && isVoter){
        remove(listOfVoter,idToCheck);
        voter();
      }
      else{
        alert("Please enter a valid ID");
        $("#submit").show();
        $("#input").show();
        $("#enterId").show();
        $("#input").val("");
        $("#space2").show();
        $("#hideMe").show();


      }

    });

    </script>
  </body>
