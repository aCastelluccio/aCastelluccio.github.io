<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link rel="stylesheet" href="cssForVote.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>

  <title>Andrew's Voting Machine</title>

</head>

<body>
  <div class="container">
    <div class="jumbotron">
      <div class="row">
        <div class="col-12">
          <h1 class="text-center">Welcome to the 2018 Special Election</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <h2 id ="enterId" class="text-center">Enter your id below to either vote or perform adminstrative functions</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-6 center">
          <input id = "input" class="form-control form-control-lg" type="text" placeholder="Enter your ID here">
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">
          <button id = "submit" class=" btn btn-lg btn-primary text-center">Enter</h2>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h3 id = "presAnnounce" class="text-center">Vote for the president of Drew</h2>
            </div>
          </div>
          <div class="center">
          </div>
          <div class="row">
            <div class="col-md-6 text-center">
              <button id = "presVote1" class=" btn btn-lg btn-primary text-center">Vote for Andrew Castelluccio</h2>
              </div>
              <div class="col-md-6 text-center">
                <button id = "presVote2" class=" btn btn-lg btn-primary text-center">Vote for Joe Biden</h2>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <h3 id = "openVote" class="text-center">Would you like to start the vote?</h2>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 text-center">
                    <button id = "startVote" class=" btn btn-lg btn-primary text-center">Start the Vote</h2>
                    </div>
                  </div>

            </div>
          </div>


          <script>

          var listOfVoter = [61636,61637];
          var listOfAdmin = [12345];
          var step = 0;
          var votesForA = 0;
          var votesForJ = 0;

          $("#presVote1").hide();
          $("#presVote2").hide();
          $("#presAnnounce").hide();
          $("#startVote").hide();
          $("#openVote").hide();


          $("#presVote1").click(function(){
            votesForA ++;
            voterAfterPres();
          });

          $("#presVote2").click(function(){
            votesForJ ++;
            voterAfterPres();
          });

          function voter(){
            $("#presVote1").show();
            $("#presVote2").show();
            $("#presAnnounce").show();
          }

          function voterAfterPres(){
            // Do something
            $("#presVote1").hide();
            $("#presVote2").hide();
            $("#presAnnounce").hide();
          }


          function admin(){
            $("#startVote").show();
            $("#openVote").show();

          }

          $("#startVote").click(function(){
            $("#submit").show();
            $("#input").show();
            $("#enterId").show();
            $("#startVote").hide();
            $("#openVote").hide();
            $("#input").val("");
            step = 1;
          });

          $("#submit").click(function(){

            $("#submit").hide();
            $("#input").hide();
            $("#enterId").hide();

            var idToCheck = $("#input").val();
            var v = false;
            var a = false;
            for (var i = 0; i < listOfVoter.length; i++){
              if (idToCheck == listOfVoter[i])
                v = true;
              else if (idToCheck == listOfAdmin[i])
                a = true;
            }
            if (step == 0 && a ){
              admin();
            }
            else if (step == 0){
              alert("Please enter an admin ID to start the process")
              $("#submit").show();
              $("#input").show();
              $("#enterId").show();
              $("#input").val("");

            }
            else if (step == 1 && v)
              voter();
            else{
              alert("Please enter a valid ID");
              $("#submit").show();
              $("#input").show();
              $("#enterId").show();
              $("#input").val("");

            }

          });

          </script>
        </body>
